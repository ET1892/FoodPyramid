<html>
  <body onload="Edit()">
    <h2 align="center"> Student Grades Table</h2>
    <table class="table" id="Grades">
      <tr>
        <th class="head">Student Name</th>
        <th class="head">Student ID</th>
        <th class="head">Assingment 1</th>
        <th class="head">Assignment 2</th>
        <th class="head">Assignment 3</th>
        <th class="head">Assignment 4</th>
        <th class="head">Assignment 5</th>
        <th class="head">Average Grade</th>
      </tr>
      <tr>
        <td class="left" contenteditable="false">James Malone</td>
        <td class="left" contenteditable="false">12403980</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center" contenteditable="false">-</td>
      </tr>
      <tr>
        <td class="left" contenteditable="false">Niamh Dunne</td>
        <td class="left" contenteditable="false">12953052</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center" contenteditable="false">-</td>
      </tr>
      <tr>
        <td class="left" contenteditable="false">Ciara Clarke</td>
        <td class="left" contenteditable="false">11050258</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center" contenteditable="false">-</td>
      </tr>
      <tr>
        <td class="left" contenteditable="false">Nathan Callan</td>
        <td class="left" contenteditable="false">12230538</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
      </tr>
      <tr>
        <td class="left" contenteditable="false">Ciaran Anderson</td>
        <td class="left" contenteditable="false">12205593</td>
        <td class="center">-</td>
        <td class="center">-<br></td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center" contenteditable="false">-</td>
      </tr>
      <tr>
        <td class="left" contenteditable="false">Jason O'Callaghan</td>
        <td class="left" contenteditable="false">11405829</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center" contenteditable="false">-</td>
      </tr>
      <tr>
        <td class="left" contenteditable="false">Katie Sullivan</td>
        <td class="left" contenteditable="false">12920535</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center" contenteditable="false">-</td>
      </tr>
      <tr>
        <td class="left" contenteditable="false">Aisling Casey</td>
        <td class="left" contenteditable="false">11490258</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center" contenteditable="false">-</td>
      </tr>
      <tr>
        <td class="left" contenteditable="false">Lauren Connolly</td>
        <td class="left" contenteditable="false">12073892</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center" contenteditable="false">-</td>
      </tr>
      <tr>
        <td class="left" contenteditable="false">Michael Byrne</td>
        <td class="left" contenteditable="false">12038793</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center">-</td>
        <td class="center" contenteditable="false">-</td>
      </tr>
    </table>
    <table class="table" id="Unsubmitted">
      <thead>
        <tr>
            <th class="head">Unsubmitted</th>
        </tr>
      </thead>
        <tr>
            <td class="center" contenteditable="false">-</td>
        </tr>
    </table>
   <div class="button" id="button">
      <button class="button" onClick="Average(); Unsubmitted()">Calculate Grade</button>
    </div>
  </body>
</html>













<style>

.table {
  border-collapse: collapse;
  border-color: #000;
  margin: 0px auto !important;
}

.table th {
  font-family: sans-serif;
  font-size: 14px;
  font-weight: normal;
  padding: 10px 5px;
  border-style: solid;
  border-width: 1px;
  color: #000;
  background-color: #999;
}

.table .head {
  font-weight: bold;
  text-align: center;
  vertical-align: top;
  padding: 10px;
}

.table td {
  font-family: sans-serif;
  font-size: 14px;
  padding: 10px 5px;
  border-style: solid;
  border-width: 1px;
  border-color: #000;
}

.table tr:nth-child(odd) {
  background-color: #cccccc;
}

.table .center {
  text-align: center;
}

.table .left {
  text-align: left;
  vertical-align: top
}

.button {
  text-align: center;
  padding: 10px;
  font-family: sans-serif;
}

</style>











<script>



function Edit() {
  for (var i = 1; i < 11; i++) {
    for (var j = 2; j < 7; j++) {
      document.getElementById("Grades").rows[i].cells[j].contentEditable = true; 
      //make every cell in table editable where contentEditable hasn't been set to false in HTML
    }
  }
}


function Unsubmitted() {
  var table = document.getElementById("Grades");
  var rows = table.rows.length;
  var cols = table.rows[0].cells.length;
  var Unsubcount = 0;
  
  for (var i = 1; i < rows; i++) {
    for (var j = 2; j < (cols - 1); j++) {
      var add = table.rows[i].cells[j]; //check through every cell 
      if (add.innerHTML === '-' || add.innerHTML === '') {
       Unsubcount++; //if they are empty increment unsubmitted count
      }
    }
  }
  
  Average();
  
  var Unsub = document.getElementById("Unsubmitted");
  var Unsubrows = Unsub.rows;
  Unsubrows[1].style.backgroundColor = "red";
  Unsubrows[1].style.color = "white";
  Unsubrows[1].style.textAlign = "right";
  Unsubrows[1].innerHTML = "<td>" + Unsubcount + "</td>"; //show count how unsubmitted assignments
  if(Unsubcount == 0) { //checnge colour when there are no unsubmitted assignments
    Unsubrows[1].style.backgroundColor = "white";
    Unsubrows[1].style.color = "black";
    Unsubrows[1].style.textAlign = "right";
  }
}


function Average() {
  var table = document.getElementById("Grades");
  var rows = table.rows;
  
  for (var i = 1; i < rows.length; i++) 
  {
    var cells = rows[i].cells;
    var sum = 0;

    for (var j = 2; j < (cells.length - 1); j++) 
    {
      var cell = cells[j];
      var num = parseInt(cell.innerHTML); //assign value in cell to var
      
      if (!isNaN(num)) { //check that input is only numbers
        //https://www.w3schools.com/jsref/jsref_isnan.asp
        if(num <= 100 || num >= 0){ //check inputted grade is only 0-100 (doesn't work?)
        sum += num;
        rows[i].cells[j].style.backgroundColor = "white";
        rows[i].cells[j].style.color = "black";
        rows[i].cells[j].style.textAlign = "right"
        }
      } else { //if it's not 0-100, then it is invalid
        rows[i].cells[j].style.backgroundColor = "yellow";
        rows[i].cells[j].style.color = "black";
        rows[i].cells[j].innerHTML = "-";
      }
    }
    
    var avg = sum / 5; //calculate average of the 5 grades

    if (avg < 60) { //check if grade is above or below 60
      rows[i].cells[7].innerHTML = "<td>" + Math.round(avg) + "%" + "</td>";
      rows[i].cells[7].style.backgroundColor = "red";
      rows[i].cells[7].style.color = "white";
      rows[i].cells[7].style.textAlign = "right"
    } else {
      rows[i].cells[7].innerHTML = "<td>" + Math.round(avg) + "%" + "</td>";
      rows[i].cells[7].style.backgroundColor = "white";
      rows[i].cells[7].style.color = "black";
      rows[i].cells[7].style.textAlign = "right"
    }
  }
}


</script>